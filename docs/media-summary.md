# 视音频知识整理
---

## 特别声明

主要参考[大神-雷晓骅](http://blog.csdn.net/leixiaohua1020)。只恨天妒英才，逝者安息。  

## 封装格式

把`视频数据`和`音频数据`打包成一个文件规范，例如`.avi`、`MP4`、`MKV`等等，这些后缀都代表了一种封装标准。  

当下流行的封装格式:

|名称|机构|流媒体|视频编码|音频编码|使用领域|
|---|:---|:---|:---|:---|:---:|
|AVI|Microsoft|NO|ALL|ALL|BT下载|
|MP4|MPEG|YES|MPEG-2,MPEG-4,H.264等|AAC,MPEG-1 Layers,AC-3等|互联网视频|
|TS|MPEG|YES|MPEG-1,MPEG-2,MPEG-4,H.264|MPEG-1 Layers,AAC|IPTV,数字电视|
|FLV|Adobe|YES|H.264,VP6|MP3,AAC,PCM等|互联网视频|
|MKV|CoreCodec|YES|ALL|ALL|互联网视频|
|RMVB|Real Networks|YES|RealVideo 8,9,10|AAC,RealAudio|BT下载|

## 视频编码

视频编码主要作用，将视频像素数据(`RGB`、`YUV`等)压缩成视频码流，从而降低视频的数据量。高效率的视频编码在同等的码率下，可以获得更高的视频质量。  
主要视频编码标准一览:  

|名称|机构|时间|领域|
|---|:---|:---|:---:|
|HEVC(H.265)|MPEG|2013|很多领域|
|H.264|MPEG|2003|各个领域|
|MEPG4|MPEG|2001|一般|
|MPEG2|MPEG|1994|数字电视|
|VP9|Google|2013|不普及|
|VP8|Google|2008|不普及|
|VC-1|Microsoft|2006|微软平台|

以上仅仅是编码标准，具体使用时会有很多的`编码器`来编码。

## 音频编码

音频编码是将音频采样数据(`PCM`等)压缩成音频码流，从而降低音频的数据量。  
主要音频编码标准一览:  

|名称|机构|时间|使用|
|:---|:---|:---|:---:|
|AAC|MPEG|1997|新时代普及|
|MP3|MPEG|1993|旧时代普及|
|AC-3|Dolby|1992|电影|
|WMA|Microsoft|1999|微软平台|

音频编码技术近期绝大部分的改动都是在`AAC`的基础上完成的。

## 现有网络视音频平台比较

|名称|协议|封装|视频编码|音频编码|
|:---|:---|:---|:---|:---|
|斗鱼|RTMP|FLV|H.264|AAC|
|中国教育电视台|RTMP|FLV|H.264|AAC|
|优酷|HTTP|FLV|H.264|AAC|
|爱奇艺|HTTP|FLV|H.264|AAC|

> `直播`普遍采用了`RTMP`作为流媒体协议，封装采用`FLV`+`H.264`+`AAC`。  
优势:`RTMP`协议是被`Flash`播放器支持的，因此这种流媒体直播平台可以实现`无插件直播`，简化了客户端的操作。  

> `点播`普遍采用了`HTTP`作为流媒体协议，封装大部分同样采用了直播的封装格式。
优势: `HTTP`是基于`TCP`协议的的应用层协议，媒体传输过程中不会出现丢包现象，保证了视频的质量。
